"use strict";(globalThis.webpackChunkai_robotics_textbook=globalThis.webpackChunkai_robotics_textbook||[]).push([[139],{7466:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>c,toc:()=>g});var i=t(4848),o=t(8453),s=t(1226),a=t(5783);const r={sidebar_position:3,title:"Unity Integration for Robotics"},l="Unity Integration for Robotics",c={id:"module-2-digital-twin/topic-2",title:"Unity Integration for Robotics",description:"Unity is a powerful 3D development platform that can be used for robotics simulation and visualization. Its advanced rendering capabilities and physics engine make it suitable for creating high-fidelity digital twins of robotic systems.",source:"@site/docs/module-2-digital-twin/topic-2.mdx",sourceDirName:"module-2-digital-twin",slug:"/module-2-digital-twin/topic-2",permalink:"/hackthon/docs/module-2-digital-twin/topic-2",draft:!1,unlisted:!1,editUrl:"https://github.com/nehaltariq357/hackthon/tree/master/docs/module-2-digital-twin/topic-2.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Unity Integration for Robotics"},sidebar:"textbookSidebar",previous:{title:"Gazebo Simulation Environment",permalink:"/hackthon/docs/module-2-digital-twin/topic-1"},next:{title:"Digital Twin Concepts and Applications",permalink:"/hackthon/docs/module-2-digital-twin/topic-3"}},d={},g=[{value:"Unity Robotics Setup",id:"unity-robotics-setup",level:2},{value:"Setting up ROS-TCP-Connector",id:"setting-up-ros-tcp-connector",level:2},{value:"Unity Robot Control Example",id:"unity-robot-control-example",level:2},{value:"Creating Custom Messages",id:"creating-custom-messages",level:2},{value:"Perception Package Integration",id:"perception-package-integration",level:2},{value:"Best Practices for Unity-ROS Integration",id:"best-practices-for-unity-ros-integration",level:2},{value:"Summary",id:"summary",level:2}];function u(n){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.A,{}),"\n",(0,i.jsx)(e.h1,{id:"unity-integration-for-robotics",children:"Unity Integration for Robotics"}),"\n",(0,i.jsx)(e.p,{children:"Unity is a powerful 3D development platform that can be used for robotics simulation and visualization. Its advanced rendering capabilities and physics engine make it suitable for creating high-fidelity digital twins of robotic systems."}),"\n",(0,i.jsx)(e.h2,{id:"unity-robotics-setup",children:"Unity Robotics Setup"}),"\n",(0,i.jsx)(e.p,{children:"Unity provides the Unity Robotics Hub and several packages to facilitate robotics development:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Unity Robotics Hub"}),": A package manager and tool for robotics-specific packages"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"ROS-TCP-Connector"}),": Enables communication between Unity and ROS 2"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Unity Perception"}),": Tools for generating synthetic training data"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Unity Simulation"}),": Tools for large-scale simulation"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"setting-up-ros-tcp-connector",children:"Setting up ROS-TCP-Connector"}),"\n",(0,i.jsx)(e.p,{children:"The ROS-TCP-Connector allows Unity to communicate with ROS 2 systems. Here's a basic setup:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-csharp",metastring:'title="RosConnector.cs"',children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageGeneration;\nusing RosMessageTypes.Std;\n\npublic class RosConnector : MonoBehaviour\n{\n    ROSConnection ros;\n    public string rosIPAddress = "127.0.0.1";\n    public int rosPort = 10000;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.Initialize(rosIPAddress, rosPort);\n    }\n\n    public void SendCommand(string command)\n    {\n        // Create and publish a message\n        StringMsg msg = new StringMsg(command);\n        ros.Send("robot_command", msg);\n    }\n\n    void OnMessageReceived(Message message)\n    {\n        // Handle incoming messages\n        StringMsg receivedMsg = message as StringMsg;\n        Debug.Log("Received: " + receivedMsg.data);\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"unity-robot-control-example",children:"Unity Robot Control Example"}),"\n",(0,i.jsx)(e.p,{children:"Here's an example of controlling a Unity robot with ROS 2:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-csharp",metastring:'title="RobotController.cs"',children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing RosMessageTypes.Geometry;\nusing RosMessageTypes.Std;\n\npublic class RobotController : MonoBehaviour\n{\n    ROSConnection ros;\n    Rigidbody rb;\n    public float linearVelocity = 1.0f;\n    public float angularVelocity = 1.0f;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        rb = GetComponent<Rigidbody>();\n\n        // Subscribe to velocity commands\n        ros.Subscribe<TwistMsg>("cmd_vel", OnVelocityCommand);\n    }\n\n    void OnVelocityCommand(TwistMsg cmd)\n    {\n        // Apply linear velocity\n        Vector3 linear = new Vector3(\n            (float)cmd.linear.x,\n            (float)cmd.linear.y,\n            (float)cmd.linear.z\n        );\n\n        // Apply angular velocity\n        Vector3 angular = new Vector3(\n            (float)cmd.angular.x,\n            (float)cmd.angular.y,\n            (float)cmd.angular.z\n        );\n\n        rb.velocity = linear * linearVelocity;\n        rb.angularVelocity = angular * angularVelocity;\n    }\n\n    void Update()\n    {\n        // Additional robot logic here\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"creating-custom-messages",children:"Creating Custom Messages"}),"\n",(0,i.jsx)(e.p,{children:"You can create custom ROS messages for Unity integration:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-csharp",metastring:'title="CustomRobotStatus.cs"',children:'using Unity.Robotics.ROSTCPConnector.MessageGeneration;\n\npublic class CustomRobotStatus : Message\n{\n    public const string k_RosMessageName = "my_robot_msgs/RobotStatus";\n    public override string RosMessageName => k_RosMessageName;\n\n    public string robot_name;\n    public double[] joint_positions;\n    public double[] joint_velocities;\n    public bool is_moving;\n    public float battery_level;\n\n    public CustomRobotStatus()\n    {\n        this.robot_name = "";\n        this.joint_positions = new double[0];\n        this.joint_velocities = new double[0];\n        this.is_moving = false;\n        this.battery_level = 0.0f;\n    }\n\n    public CustomRobotStatus(string robot_name, double[] joint_positions,\n                            double[] joint_velocities, bool is_moving, float battery_level)\n    {\n        this.robot_name = robot_name;\n        this.joint_positions = joint_positions;\n        this.joint_velocities = joint_velocities;\n        this.is_moving = is_moving;\n        this.battery_level = battery_level;\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"perception-package-integration",children:"Perception Package Integration"}),"\n",(0,i.jsx)(e.p,{children:"Unity Perception can generate synthetic data for training AI models:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-csharp",metastring:'title="SensorDataCollector.cs"',children:"using UnityEngine;\nusing Unity.Perception.GroundTruth;\nusing Unity.Perception.GroundTruth.DataModel;\n\npublic class SensorDataCollector : MonoBehaviour\n{\n    [SerializeField] private GameObject sensorObject;\n    private SemanticSegmentationLabeler labeler;\n\n    void Start()\n    {\n        // Initialize semantic segmentation\n        labeler = sensorObject.GetComponent<SemanticSegmentationLabeler>();\n    }\n\n    void Update()\n    {\n        // Collect sensor data periodically\n        if (Time.frameCount % 30 == 0) // Every 30 frames\n        {\n            // Capture sensor data\n            CaptureSensorData();\n        }\n    }\n\n    void CaptureSensorData()\n    {\n        // Collect RGB, depth, and semantic segmentation data\n        // This data can be used for training computer vision models\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"best-practices-for-unity-ros-integration",children:"Best Practices for Unity-ROS Integration"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Performance"}),": Optimize Unity scenes for real-time performance when running with ROS communication"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Synchronization"}),": Ensure proper synchronization between Unity's update loop and ROS message handling"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Error handling"}),": Implement robust error handling for network communication failures"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Scene management"}),": Organize Unity scenes to match the ROS package structure"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Testing"}),": Use Unity's testing framework alongside ROS testing tools"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(e.p,{children:"Unity provides powerful capabilities for robotics simulation and visualization when integrated with ROS 2. The combination of Unity's rendering capabilities and ROS 2's robotics framework enables sophisticated digital twin applications for robotic systems."}),"\n",(0,i.jsx)(s.A,{title:"Unity-ROS Integration",description:"Shows the communication flow between Unity and ROS 2 systems"})]})}function m(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}}}]);